<div class="container">
    <div class="filtros">
        <form  [formGroup]="filtroForm" (ngSubmit)="onSubmit()">
            <mat-label>Filtrar Por :</mat-label>
        <mat-form-field class="inpute">
            <mat-label>Identificacion</mat-label>
            <input formControlName="identificacion" maxlength="10" placeholder="Ej. U687" matInput
            onkeypress="return (event.charCode == 209 || event.charCode == 241 || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122) || (event.charCode >= 48 && event.charCode <= 57))">
          </mat-form-field>
          <button id="filtro" mat-raised-button color="primary" type="submit">Filtrar</button>
          <button mat-raised-button color="primary" (click)="borrarFiltro()" type="button" >Borrar Filtro</button><br><br>
        </form>
    </div>
    
        <table mat-table [dataSource]="dataSource" #tabla1 >
            <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color"> Nombre </th>
                <td mat-cell *matCellDef="let listPersonas"> {{listPersonas.nombre}} </td>
            </ng-container>
            <ng-container matColumnDef="apepat">
                <th mat-header-cell *matHeaderCellDef> Apellido Paterno </th>
                <td mat-cell *matCellDef="let listPersonas"> {{listPersonas.apellidoPaterno}} </td>
            </ng-container>
            <ng-container matColumnDef="apemat">
                <th mat-header-cell *matHeaderCellDef> Apellido Materno </th>
                <td mat-cell *matCellDef="let listPersonas"> {{listPersonas.apellidoMaterno}} </td>
            </ng-container>
            <ng-container matColumnDef="ide">
                <th mat-header-cell *matHeaderCellDef>Identificacion</th>
                <td mat-cell *matCellDef="let listPersonas"> {{listPersonas.identificacion}} </td>
            </ng-container>
            <ng-container matColumnDef="eliminar">
                <th mat-header-cell *matHeaderCellDef>Eliminar</th>
                <td mat-cell *matCellDef="let listPersonas"> 
                    <button
                style="width: 35px; height: 35px"
                    id="accion"
                    mat-fab
                    color="warn"
                    type="button"
                    (click)="borrarPersona(listPersonas)"
                ><mat-icon>delete</mat-icon></button>
                </td>
            </ng-container>

            <ng-container matColumnDef="facturas">
                <th mat-header-cell *matHeaderCellDef>Ver Facturas</th>
                <td mat-cell *matCellDef="let listPersonas"> 
                    <button
                style="width: 35px; height: 35px"
                    id="accion"
                    mat-fab
                    color="primary"
                    type="button"
                    (click)="facturas(listPersonas)"
                ><mat-icon>receipt</mat-icon></button>
                </td>
            </ng-container>
     <tr mat-header-row *matHeaderRowDef="columnas"></tr>
    <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
          </table>
          <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
    
      <div class="d-flex justify-content-center">
        <div *ngIf="loading" class="spinner-border" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
</div>
